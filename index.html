<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <meta charset="UFT-8">
    <meta name="viewport" content="width=device-width, initia-scale=1.0">
    <title>Formulario Matheus</title>
    <script> 
        var id = 0;
        function insertContact(){
            id++
            const data = {
                name: document.getElementById('name').value,
                cellphone: document.getElementById('cellphone').value
            }
            localStorage.setItem(id, JSON.stringify(data));
            updateTable()
        }
        function updateTable(){
          const getting = JSON.parse(localStorage.getItem(id));
          console.log(getting)
          const tableContent = document.getElementById("table");
          tableContent.innerHTML += `
                <tr>
                <th scope="row">${id}</th>
                <td>${getting.name}</td>
                <td>${getting.cellphone}</td>
                <td><button type="button" class="btn btn-danger" onclick="removeContact()">Deletar</button></td>
                </tr>`;
        }
        function removeContact(){
          localStorage.removeItem(id);
          document.getElementById("table").deleteRow(id);
        }
    </script>
</head>
<body>
    <div class="container p-5">
        <form action="#" onsubmit="insertContact(this)">
        <div class="mb-3">
            <label for="name" class="form-label">Nome:</label>
            <input type="text" class="form-control" id="name">
        </div>
        <div class="mb-3">
            <label for="cellphone" class="form-label">Celular:</label>
            <input type="text" class="form-control" id="cellphone">
        </div>
        <div class="mb-3">
            <button type="submit" class="btn btn-primary mb-3">Cadastrar</button>
        </div>
        </form>
        <table class="table" id="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Nome</th>
                <th scope="col">Celular</th>
                <th scope="col">Ação</th>
              </tr>
            </thead>
          </table>
    </div>
</body>
</html>